[gd_scene load_steps=13 format=4 uid="uid://52vw1loucx6j"]

[ext_resource type="Texture2D" uid="uid://clqj3ibtnaggk" path="res://icon.svg" id="1_37kl0"]
[ext_resource type="Script" uid="uid://bqrr1gddlv4f6" path="res://Scripts/ChunkSystem/ChunkSystem.gd" id="1_o6ksy"]
[ext_resource type="ArrayMesh" uid="uid://r2imjo7o2734" path="res://Models/Vegetation/stylizedGrassMeshes/grass2.res" id="2_1i1hv"]
[ext_resource type="PackedScene" uid="uid://bb3qcv0kbqbo6" path="res://Scene/Player.tscn" id="3_vrsyt"]
[ext_resource type="Texture2D" uid="uid://le1l24fxe4fd" path="res://Models/Mouse_0.png" id="4_asc4v"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_asc4v"]
sky_top_color = Color(0.823885, 0.41672873, 0.6455404, 1)
sky_horizon_color = Color(0.8332484, 0.72370934, 0.7719122, 1)
ground_horizon_color = Color(0.8332484, 0.72370934, 0.7719122, 1)

[sub_resource type="Sky" id="Sky_1i1hv"]
sky_material = SubResource("ProceduralSkyMaterial_asc4v")

[sub_resource type="Environment" id="Environment_wf6tq"]
background_mode = 2
sky = SubResource("Sky_1i1hv")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_asc4v"]
albedo_texture = ExtResource("1_37kl0")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wf6tq"]
albedo_texture = ExtResource("4_asc4v")

[sub_resource type="ArrayMesh" id="ArrayMesh_puuaq"]
_surfaces = [{
"aabb": AABB(-96.73201, -0.5, -245.96893, 193.46402, 1, 491.93787),
"attribute_data": PackedByteArray("AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/"),
"format": 34359738391,
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 36,
"vertex_data": PackedByteArray("ynbBwgAAAL8M+HVDynbBwgAAAL8M+HXDynbBwgAAAD8M+HXDynbBQgAAAL8M+HXDynbBwgAAAL8M+HXDynbBwgAAAL8M+HVDynbBwgAAAD8M+HXDynbBwgAAAL8M+HXDynbBQgAAAL8M+HXDynbBwgAAAD8M+HXDynbBwgAAAD8M+HVDynbBwgAAAL8M+HVDynbBwgAAAL8M+HVDynbBwgAAAD8M+HVDynbBQgAAAD8M+HVDynbBQgAAAD8M+HVDynbBwgAAAD8M+HVDynbBwgAAAD8M+HXDynbBwgAAAL8M+HVDynbBQgAAAL8M+HVDynbBQgAAAL8M+HXDynbBQgAAAD8M+HVDynbBQgAAAL8M+HVDynbBwgAAAL8M+HVDynbBQgAAAL8M+HXDynbBQgAAAL8M+HVDynbBQgAAAD8M+HVDynbBQgAAAL8M+HXDynbBQgAAAD8M+HXDynbBwgAAAD8M+HXDynbBwgAAAD8M+HXDynbBQgAAAD8M+HXDynbBQgAAAD8M+HVDynbBQgAAAD8M+HVDynbBQgAAAD8M+HXDynbBQgAAAL8M+HXDAAD/f/9//n8AAP9//3/+fwAA/3//f/5//38AAP//AAD/fwAA//8AAP9/AAD//wAA/////wAA/z//////AAD/P/////8AAP8/AAD/f/9//n8AAP9//3/+fwAA/3//f/5//3//fwAA/z//f/9/AAD/P/9//38AAP8//3//////AAD/f/////8AAP9//////wAA/38AAP//AAD/fwAA//8AAP9/AAD//wAA/3//fwAA/z//f/9/AAD/P/9//38AAP8/////f/9//n////9//3/+f////3//f/5//////wAA/z//////AAD/P/////8AAP8//3//////AAD/f/////8AAP9//////wAA////f/9//n////9//3/+f////3//f/5/")
}]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_1i1hv"]
data = PackedVector3Array(-96.73201, -0.5, 245.96893, -96.73201, -0.5, -245.96893, -96.73201, 0.5, -245.96893, 96.73201, -0.5, -245.96893, -96.73201, -0.5, -245.96893, -96.73201, -0.5, 245.96893, -96.73201, 0.5, -245.96893, -96.73201, -0.5, -245.96893, 96.73201, -0.5, -245.96893, -96.73201, 0.5, -245.96893, -96.73201, 0.5, 245.96893, -96.73201, -0.5, 245.96893, -96.73201, -0.5, 245.96893, -96.73201, 0.5, 245.96893, 96.73201, 0.5, 245.96893, 96.73201, 0.5, 245.96893, -96.73201, 0.5, 245.96893, -96.73201, 0.5, -245.96893, -96.73201, -0.5, 245.96893, 96.73201, -0.5, 245.96893, 96.73201, -0.5, -245.96893, 96.73201, 0.5, 245.96893, 96.73201, -0.5, 245.96893, -96.73201, -0.5, 245.96893, 96.73201, -0.5, -245.96893, 96.73201, -0.5, 245.96893, 96.73201, 0.5, 245.96893, 96.73201, -0.5, -245.96893, 96.73201, 0.5, -245.96893, -96.73201, 0.5, -245.96893, -96.73201, 0.5, -245.96893, 96.73201, 0.5, -245.96893, 96.73201, 0.5, 245.96893, 96.73201, 0.5, 245.96893, 96.73201, 0.5, -245.96893, 96.73201, -0.5, -245.96893)

[node name="Map" type="Node3D" node_paths=PackedStringArray("player", "terrain")]
script = ExtResource("1_o6ksy")
player = NodePath("Player")
terrain = NodePath("floor/floor_mesh]")
chunk_size = 20.0
grass_blade_mesh = ExtResource("2_1i1hv")
max_chunks_per_frame = 4
batch_size_per_frame = 200

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
spawn_path = NodePath("..")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.9360595, 0.28961372, -0.19979113, 0, 0.56784374, 0.8231363, 0.35184175, 0.77050453, -0.5315355, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_wf6tq")

[node name="wall" type="CSGBox3D" parent="."]
transform = Transform3D(0, 0, -0.99999994, 0, 1, 0, 0.99999994, 0, 0, -6.943512, 5.707612, 95.45741)
material_override = SubResource("StandardMaterial3D_asc4v")
use_collision = true
size = Vector3(26.4693, 10.579224, 1.8447266)

[node name="floor" type="StaticBody3D" parent="."]

[node name="floor_mesh]" type="MeshInstance3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.229843, 0, 146.63055)
material_override = SubResource("StandardMaterial3D_wf6tq")
mesh = SubResource("ArrayMesh_puuaq")
skeleton = NodePath("../..")

[node name="ColisionShape" type="CollisionShape3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.229843, 0, 146.63055)
visible = false
shape = SubResource("ConcavePolygonShape3D_1i1hv")

[node name="Player" parent="." instance=ExtResource("3_vrsyt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.925152, 1, 96.965126)
