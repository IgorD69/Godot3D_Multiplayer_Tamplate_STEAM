[gd_scene load_steps=11 format=3 uid="uid://dxvqdifsxtr1h"]

[ext_resource type="Script" uid="uid://du23v82cdps36" path="res://addons/nodetunnel/demo/node_tunnel_demo.gd" id="1_pe4km"]
[ext_resource type="Texture2D" uid="uid://clqj3ibtnaggk" path="res://icon.svg" id="2_jvpx1"]
[ext_resource type="Script" uid="uid://luj15j0gqqip" path="res://addons/nodetunnel/demo/multiplayer_spawner.gd" id="2_p1dnn"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_pe4km"]
sky_top_color = Color(0.79645187, 0.46494347, 0.24903977, 1)
sky_horizon_color = Color(0.82640964, 0.7357825, 0.6728066, 1)
ground_horizon_color = Color(0.82640964, 0.7357825, 0.6728066, 1)

[sub_resource type="Sky" id="Sky_jvpx1"]
sky_material = SubResource("ProceduralSkyMaterial_pe4km")

[sub_resource type="Environment" id="Environment_p1dnn"]
background_mode = 2
sky = SubResource("Sky_jvpx1")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_jvpx1"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jvpx1"]
albedo_texture = ExtResource("2_jvpx1")

[sub_resource type="BoxMesh" id="BoxMesh_p1dnn"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pe4km"]
cull_mode = 2
albedo_color = Color(0.4288199, 0.21543661, 0.45837814, 1)

[node name="NodeTunnelDemo" type="Node3D"]
script = ExtResource("1_pe4km")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.7241719, 0.68961954, 3.014423e-08, 0, -4.371139e-08, 1, 0.68961954, 0.7241719, 3.1654558e-08, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_p1dnn")

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://bb3qcv0kbqbo6")
spawn_path = NodePath("..")
script = ExtResource("2_p1dnn")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ConnectionControls" type="VBoxContainer" parent="UI/Control"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -177.0
offset_top = -189.0
offset_right = 175.0
offset_bottom = 261.38513
grow_horizontal = 2
grow_vertical = 2

[node name="Host" type="Button" parent="UI/Control/ConnectionControls"]
layout_mode = 2
text = "Host"

[node name="HSeparator" type="HSeparator" parent="UI/Control/ConnectionControls"]
layout_mode = 2

[node name="HostID" type="LineEdit" parent="UI/Control/ConnectionControls"]
unique_name_in_owner = true
layout_mode = 2
placeholder_text = "Host ID"

[node name="Join" type="Button" parent="UI/Control/ConnectionControls"]
layout_mode = 2
text = "Join"

[node name="IDLabel" type="Label" parent="UI/Control/ConnectionControls"]
unique_name_in_owner = true
layout_mode = 2
text = "Your ID: ABCD1234"

[node name="Copy" type="Button" parent="UI/Control/ConnectionControls"]
layout_mode = 2
text = "Copy ID"

[node name="ExitButton" type="Button" parent="UI/Control/ConnectionControls"]
layout_mode = 2
text = "
EXIT

"

[node name="LeaveRoom" type="Button" parent="UI/Control"]
unique_name_in_owner = true
visible = false
layout_mode = 0
offset_right = 8.0
offset_bottom = 8.0
text = "Leave Room"

[node name="floor" type="StaticBody3D" parent="."]
transform = Transform3D(60.710514, 0, 0, 0, 1, 0, 0, 0, 58.45739, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floor"]
shape = SubResource("ConcavePolygonShape3D_jvpx1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.6483731, 0)
material_override = SubResource("StandardMaterial3D_jvpx1")
mesh = SubResource("BoxMesh_p1dnn")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_pe4km")

[connection signal="pressed" from="UI/Control/ConnectionControls/Host" to="." method="_on_host_pressed"]
[connection signal="pressed" from="UI/Control/ConnectionControls/Join" to="." method="_on_join_pressed"]
[connection signal="pressed" from="UI/Control/ConnectionControls/Copy" to="." method="_on_button_pressed"]
[connection signal="pressed" from="UI/Control/ConnectionControls/ExitButton" to="." method="_on_exit_button_pressed"]
[connection signal="pressed" from="UI/Control/LeaveRoom" to="." method="_on_leave_room_pressed"]
